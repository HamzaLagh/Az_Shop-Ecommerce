{% load static %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
    <title>Panier | AZ_Shop</title>
</head>
<style>
  
  body {
    background: #eee;
    font-family: arial, helvetica, sans-serif;
    margin: 50px auto;
    padding: 0;
    margin:0;
    overflow-x: hidden;
    background-image: url("/static/images/back.jpg");
  }
</style>
<body >
    <!--  header -->
    <div id="carouselExampleIndicators" class="carousel slide position-fixed w-100" style="z-index: 100;top:0; background:black;left:0;top:0;color:white;" data-ride="carousel">
    
      <div class="carousel-inner text-uppercase font-italic">
        <div class="carousel-item text-center active">
          <h6 class="py-2 mx-auto "><i class="bi bi-truck"></i>  Livraison gratuite </h6>
        </div>
        <div class="carousel-item text-center">
          <h6 class="py-2 mx-auto "><i class="bi bi-truck"></i>  Livraison gratuite </h6>
        </div>
        <div class="carousel-item text-center">
          <h6 class="py-2 mx-auto "><i class="bi bi-truck"></i>  Livraison gratuite </h6>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-white position-fixed w-100" style="z-index: 100; top:43px; ">
      <a class="navbar-brand" href="{% url 'home' %}"><img src="{% static 'images/AZ-PNG.png'%}" width="100px" height="60px" ></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto" >
          <form class="form-inline my-2 my-lg-0" style="margin-left:380px;width:500px;">
            <input class="form-control mr-sm-2 w-75" type="search" placeholder="Rechercher des produits" aria-label="Search">
            <button class="btn btn-outline-light my-2 my-sm-0" type="submit" style="background-color: teal;">Cherchez</button>
          </form>
          
          <li class="nav-item mr-1" style="margin-left:250px;cursor:pointer;">
            <a id="profil" type="button" class="nav-link btn text-light" style="background:teal;" href="{% url 'profil_client' %}" >
              <i class="bi bi-person"></i>
            </a>
          </li>
          
          <li class="nav-item dropdown ">
            <a class="nav-link dropdown-toggle btn text-light" style="background:teal;" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Dropdown
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="#">Action</a>
              <a class="dropdown-item" href="#">Another action</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#">Something else here</a>
            </div>
          </li>
        </ul>
       
      </div>
    </nav>
  
<!-- fin header -->

        <div id="facture" class="container position-relative w-50 mx-auto p-5 rounded" style="margin-bottom:1px; margin-top:140px;background:#62B6B790; " >
          <ol class="list-group list-group-numbered"  >
             <h4 class="mx-auto mb-5">VOICI LA COMMANDE</h4>
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Nom</th>
                    <th scope="col">Prix</th>
                    <th scope="col">Quantite</th>
                  </tr>
                </thead>
                <tbody id="item-list">
                
                </tbody>
              </table>
          </ol>
        </div>
{% comment %} -------------------------------------------- {% endcomment %}
<div class="row w-50  ml-5 mb-5 mx-auto rounded" style="background:#62B6B790; " >
  <h4 class="mx-auto mt-4">COMPLÉTEZ LA COMMANDE</h4>
  <div class="col-md-12 m-5">
    <form method="POST" class="pl-5 w-75">
      {% csrf_token %}
        <input type="hidden" id="items", name="items" >
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputEmail4">Prénom</label>
            <input type="text" id="prenom" name="prenom" class="form-control" id="inputName" placeholder="Prénom">
          </div>
          <div class="form-group col-md-6">
            <label for="inputPassword4">Nom</label>
            <input type="text" id="nom" name="nom" class="form-control" id="inputName" placeholder="Nom">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputEmail4">Email</label>
            <input type="email" id="email" name="email" class="form-control" id="inputEmail4" placeholder="Email">
          </div>
          <div class="form-group col-md-6">
            <label for="inputPassword4">Password</label>
            <input type="password" id="mdps" name="mdps" class="form-control" id="inputPassword4" placeholder="Password">
          </div>
        </div>
        <div class="form-group">
          <label for="inputAddress">Address</label>
          <input type="text" id="adress" name="adress" class="form-control" id="inputAddress" placeholder="1234 Main St">
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="inputState">Pays</label>
            <select id="inputState" class="form-control" disabled>
              <option selected>Maroc</option>
              <option>...</option>
            </select>
          </div>
          <div class="form-group col-md-4">
            <label for="inputState">Ville</label>
            <select id="inputState" id="ville" name="ville" class="form-control">
              <option selected>Choose...</option>
              <option>...</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="inputAddress">Somme total à payer</label>
          <input type="readonly" id="total" name="total" class="form-control bg-dark text-warning w-25" disabled>
        </div>
        {% comment %} <div class="form-group">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="gridCheck">
            <label class="form-check-label" for="gridCheck">
              Check me out
            </label>
          </div>
        </div> {% endcomment %}
        <button type="submit" class="btn bg-warning font-weight-bold w-50 ml-5">Confirmer la Commande</button>
        <button type="button" class="btn bg-light font-weight-bold w-50 ml-5 mt-2" onClick="imprimer('facture')" >Imprimer votre facture</button>
    </form>
  </div>
</div>
        
<!-- footer -->
    <footer class="container-lg text-white text-center text-lg-start " style="background-color: #23242a;">
      <div class="row text-white bg-black " style="background-color: black; ">
        <div class="col my-3">
          <i class="bi bi-truck"></i><br>
          LIVRAISON GRATUITE
        </div>
        <div class="col my-3">
          <i class="bi bi-credit-card"></i><br>
          PAYEMENT SECURISE
        </div>
        <div class="col my-3">
          <i class="bi bi-check2-circle"></i><br>
          CLIENTS SATISFAITS
        </div>
        <div class="col my-3">
          <i class="bi bi-geo-alt"></i><br>
          MAROC
        </div>
      </div>
      <!-- Grid container -->
      <div class="container p-4">
        <!--Grid row-->
        <div class="row mt-4">
          <!--Grid column-->
          <div class="col-lg-4 col-md-12 mb-4 mb-md-0">
            <h5 class="text-uppercase mb-4">AZ_SHOP</h5>
  
            <p>
              At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium
              voluptatum deleniti atque corrupti.
            </p>
  
            <p>
              Blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas
              molestias.
            </p>
  
            
          </div>
          <!--Grid column-->
  
          <!--Grid column-->
          <div class="col-lg-4 col-md-6 mb-2 mb-md-0">
            <ul class="" style="margin-left: 1.65em;">
              <li class="mb-2">
                <span class="fa-li"><i class="fas fa-home"></i></span><span class="ms-2">Rabat, Maroc</span>
              </li>
              <li class="mb-2">
                <span class="fa-li"><i class="fas fa-envelope"></i></span><span class="ms-3">azshop@gmail.com</span>
              </li>
              <li class="mb-2">
                <span class="fa-li"><i class="bi bi-telephone-fill"></i></span><span class="ms-2">+212 658144352</span>
              </li>
              <li class="mb-2">
                <span class="fa-li"><i class="fas fa-print"></i></span><span class="ms-2">+212 773241700</span>
              </li>
            </ul>
            <div class="livraison" style="background-color: #5FC3E466;padding: 20px 30px 0px 30px ;margin-left: 30px;text-align: center;border-radius: 5px ;">
              <h6 style="color: #adadad">Paiement en cash à la livraison ou par carte bancaire</h6>
              <p>Livraison par <img class="" src="{% static 'images/amanaLogo.png'%}" width="100px"> </p>
              </div>
            
          </div>
          <!--Grid column-->
  
          <!--Grid column-->
          <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
            <h5 class="text-uppercase mb-4">SUIVEZ-NOUS</h5>
  
            <div class="mt-4">
              <!-- Instagram -->
              <a type="button" class="btn btn-floating btn-warning btn-lg"><i class="bi bi-instagram"></i></a>
              <!-- Facebook -->
              <a type="button" class="btn btn-floating btn-warning btn-lg"><i class="bi bi-facebook"></i></a>
              <!-- whatsapp -->
              <a type="button" class="btn btn-floating btn-warning btn-lg"><i class="bi bi-whatsapp"></i></a>
              <!-- messenger -->
              <a type="button" class="btn btn-floating btn-warning btn-lg"><i class="bi bi-messenger"></i></a>
            </div>
          </div>
          <!--Grid column-->
        </div>
        <!--Grid row-->
      </div>
      <!-- Grid container -->
  
      <!-- Copyright -->
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
        © 2020 Copyright:
        <a class="text-white" href="">AzShop.com</a>
      </div>
      <!-- Copyright -->
    </footer>
 <!-- End of footer -->
</body>

{% block js %}
    <script type="text/javascript">
       if(localStorage.getItem('panier')==null){
        var panier = {};
       } else{
          panier = JSON.parse(localStorage.getItem('panier'));
       }

       var total = 0;
       var nombre = 0;
       for(item in panier ){
        let name = panier[item][1];
        let quantite = panier[item][0];
        let prix = panier[item][2];

        nombre += quantite;
        total += prix;
        let itemString = `<tr>
          <th scope="row">${name}</th>
          <td>${prix} MAD</td>
          <td>${quantite}</td>
        </tr>`;
        
        $('#item-list').append(itemString);
       }

       let itemNombre = ` <td></td>
        <td class='bg-warning  badge-pill font-weight-bold'> Prix total : ${total} MAD</td>
        <td class=' bg-primary badge-pill font-weight-bold' style=> Quantite total : ${nombre} Piéces</td>`;

        $('#item-list').append(itemNombre);
        $('#total').val(total +" DH");

   $('#items').val(JSON.stringify(panier));

   //imprimer def
    function imprimer(divName) {
          var printContents = document.getElementById(divName).innerHTML;    
       var originalContents = document.body.innerHTML;      
       document.body.innerHTML = printContents;     
       window.print();     
       document.body.innerHTML = originalContents;
       }
    
    </script>
{% endblock %}
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</html>

{% endblock %}